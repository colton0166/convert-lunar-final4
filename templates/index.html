<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>國曆轉農曆系統</title>
</head>
<body>
    <h1 style="text-align:center;">國曆轉農曆系統</h1>

    <div style="text-align:center; margin-top: 20px;">
        <select id="year">
            <option value="">選擇年份</option>
            <!-- 自己插入1910~2025的年份選單（或用js自動生成也可以） -->
        </select>

        <select id="month">
            <option value="">選擇月份</option>
            <!-- 自己插入1~12月 -->
        </select>

        <select id="day">
            <option value="">選擇日期</option>
            <!-- 自己插入1~31日 -->
        </select>
    </div>

    <div id="result" style="text-align:center; margin-top: 30px; font-size: 18px;"></div>

    <footer style="text-align:center; margin-top: 50px; font-size: 14px; color: gray;">
        由 崇益 製作 © 2025
    </footer>

    <script>
    // 這裡幫你自動生成年份、月份、日期
    const yearSelect = document.getElementById('year');
    const monthSelect = document.getElementById('month');
    const daySelect = document.getElementById('day');

    for (let y = 1910; y <= 2025; y++) {
        yearSelect.innerHTML += `<option value="${y}">${y}</option>`;
    }

    for (let m = 1; m <= 12; m++) {
        monthSelect.innerHTML += `<option value="${m}">${m}</option>`;
    }

    for (let d = 1; d <= 31; d++) {
        daySelect.innerHTML += `<option value="${d}">${d}</option>`;
    }

    function fetchLunarDate() {
        const year = yearSelect.value;
        const month = monthSelect.value;
        const day = daySelect.value;

        if (year && month && day) {
            fetch('/convert', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({year, month, day})
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = `
                    農曆：${data.lunar}<br>
                    歲次：${data.suici}<br>
                    生肖：${data.zodiac}
                `;
            });
        }
    }

    yearSelect.addEventListener('change', fetchLunarDate);
    monthSelect.addEventListener('change', fetchLunarDate);
    daySelect.addEventListener('change', fetchLunarDate);
    </script>
</body>
</html>
